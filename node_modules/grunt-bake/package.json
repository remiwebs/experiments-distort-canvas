{
  "name": "grunt-bake",
  "description": "Bake external includes into files to create static pages with no server-side compilation time",
  "version": "0.3.10",
  "homepage": "https://github.com/MathiasPaumgarten/grunt-bake",
  "author": {
    "name": "Mathias Paumgarten",
    "email": "mail@mathias-paumgarten.com",
    "url": "http://mathias-paumgarten.com"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/MathiasPaumgarten/grunt-bake.git"
  },
  "bugs": {
    "url": "https://github.com/MathiasPaumgarten/grunt-bake/issues"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "/blob/master/LICENSE-MIT"
    }
  ],
  "main": "Gruntfile.js",
  "engines": {
    "node": ">= 0.8.0"
  },
  "scripts": {
    "test": "grunt test"
  },
  "dependencies": {
    "mout": "~0.9.0"
  },
  "devDependencies": {
    "grunt-contrib-jshint": "~0.1.1",
    "grunt-contrib-clean": "~0.4.0",
    "grunt-contrib-nodeunit": "~0.1.2",
    "grunt-contrib-watch": "~0.4.3",
    "grunt-jsonlint": "~1.0.1",
    "grunt": "~0.4.0"
  },
  "peerDependencies": {
    "grunt": "~0.4.0"
  },
  "keywords": [
    "gruntplugin",
    "bake",
    "static page",
    "templates",
    "static",
    "include"
  ],
  "readme": "# grunt-bake [![Build Status](https://travis-ci.org/MathiasPaumgarten/grunt-bake.png?branch=master)](https://travis-ci.org/MathiasPaumgarten/grunt-bake)\n\n> Bake static pages for production while using modular files while in development.\n\n\n\n\n## Getting Started\nThis plugin requires Grunt `~0.4.0`\n\nIf you haven't used [Grunt](http://gruntjs.com/) before, be sure to check out the [Getting Started](http://gruntjs.com/getting-started) guide, as it explains how to create a [Gruntfile](http://gruntjs.com/sample-gruntfile) as well as install and use Grunt plugins. Once you're familiar with that process, you may install this plugin with this command:\n\n```shell\nnpm install grunt-bake --save-dev\n```\n\nOnce the plugin has been installed, it may be enabled inside your Gruntfile with this line of JavaScript:\n\n```js\ngrunt.loadNpmTasks( \"grunt-bake\" );\n```\n\n## The \"bake\" task\n\n### Overview\nThis module helps creating static pages while still having the coding comfort of multiple small files. It also helps not to repeat yourself as includes can be used at multiple places.\n\nThe module parses the files recursivly, meaning it allows for nested includes. While parsing the includes it also performs a simple find and replace on placeholders. The replacements are supplied in a JSON file but more an [here](#bake-with-content).\n\nWhen `grunt-bake` parses files it looks for anchors like this: `<!--(bake path/to/file.html)-->`.\n\nSetup the `bake` task like so:\n\n\n```js\ngrunt.initConfig( {\n\tbake: {\n\t\tyour_target: {\n\t\t\toptions: {\n\t\t\t\t// Task-specific options go here.\n\t\t\t},\n\n\t\t\tfiles: {\n\t\t\t\t// files go here, like so:\n\n\t\t\t\t\"dist/index.html\": \"app/index.html\",\n\t\t\t\t\"dist/mobile.html\": \"app/mobile.html\"\n\n\t\t\t\t// etc ...\n\t\t\t}\n\t\t},\n\t},\n} )\n```\n\nWith a `app/index.html` file like this one:\n\n```html\n<html>\n\t<head></head>\n\t<body>\n\t\t<!--(bake includes/container.html)-->\n\t\t<!--(bake includes/footer.html)-->\n\t</body>\n</html>\n```\n\nThe paths given are relative to the file being parsed.\n\n### Options\n\n#### options.content\nType: `String` or `Object`\nDefault value: `null`\n\nA string value that determines the location of the JSON file that is used to fill the place holders. If a `Object` is specified it will be used as content.\n\n#### options.section\nType: `String`\nDefault value: `\"\"`\n\nA string that determines which subsection of the JSON passed as `content` should be used. If no section is passed the entire JSON will be used for templating.\n\nGiven a content JSON like such:\n\n```json\n{\n\t\"en\": {\n\t\t\"title\": \"Book\",\n\n\t\t\"info\": {\n\t\t\t\"author\": \"Joe Do\",\n\t\t\t\"job\": \"Writer\"\n\t\t}\n\t},\n\n\t\"de\": {\n\t\t\"title\": \"Buch\",\n\n\t\t\"info\": {\n\t\t\t\"author\": \"Joe Do\",\n\t\t\t\"job\": \"Schreiber\"\n\t\t}\n\t}\n}\n```\n\nIf `\"en\"` is passed as section,  `{ \"title\": \"Book\", \"info\": { ... } }` will be passed to the include. If no section is specified the entire JSON will be passed.\n\nThis could be used to parse a template like such:\n\n```html\n<div>{{title}}</div>\n<div>\n\t<span>{{info.author}}</span>\n\t<span>{{info.job}}</span>\n</div>\n```\n\n#### options.parsePattern\nType: `Regex`\nDefault value: `/\\{\\{\\s?([\\.\\-\\w]*)\\s?\\}\\}/g`\n\nDetermines the regex to parse the files in order to insert the content from the JSON file. The default pattern allows place holders such as: `{{value}}`.\n\n#### options.process\nType: `Function`\nDefault value: default process procedure\n\nA Function which is used to process the template before putting it into the file. If `process` is defined as `null` or `false` the includes won't be processed at all.\nThe default process uses two curly braces as marker, such as `{{json.value.name}}`. However the the parse regex is costumizable using `options.parsePattern`.\n\nThe function gets passed two arguments:\n* `String`: representing the template to parse.\n* `Object`: the content from the JSON file as object.\n\n\n#### options.basePath\nType: `String`\nDefault value: \"\"\n\nDetermines the base directory for includes that are specified with an absolute path. All paths starting with an `/` are absolute while other paths starting with folder or file names are relative to the include being parsed.\n\n`<!--(bake includes/footer.html)-->` relative to the file\n\n`<!--(bake /includes/footer.html)-->` relative to the basePath (level of Gruntfile by default)\n\n\n### Usage Examples\n\n#### Simple bake\nThis example shows a simple baking process with all default options.\n\n```js\ngrunt.initConfig( {\n\tbake: {\n\t\tbuild: {\n\t\t\tfiles: {\n\t\t\t\t\"app/index.html\": \"app/base.html\"\n\t\t\t}\n\t\t}\n\t}\n} )\n```\n_app/base.html_:\n```html\n<html>\n\t<body>\n\t\t<!--(bake includes/container.html)-->\n\t</body>\n</html>\n```\n\n_app/includes/container.html_:\n```html\n<div id=\"container\"></div>\n```\n\nThis bake task will create _app/index.html_:\n```html\n<html>\n\t<body>\n\t\t<div id=\"container\"></div>\n\t</body>\n</html>\n```\n\n\n#### Bake with content\nThis example shows how to use the bake process to parse the templates with a provided JSON and a section.\n\n```js\ngrunt.initConfig( {\n\tbake: {\n\t\tbuild: {\n\t\t\toptions: {\n\t\t\t\tcontent: \"app/content.json\",\n\t\t\t\tsection: \"en\"\n\t\t\t}\n\n\t\t\tfiles: {\n\t\t\t\t\"app/index.html\": \"app/base.html\"\n\t\t\t}\n\t\t}\n\t}\n} )\n```\n\n_app/content.json_:\n\n```json\n{\n\t\"en\": {\n\t\t\"title\": \"Hello World\"\n\t},\n\n\t\"de\": {\n\t\t\"title\": \"Hallo Welt\"\n\t}\n}\n```\n\n_app/base.html_:\n```html\n<html>\n\t<body>\n\t\t<!--(bake includes/container.html)-->\n\t</body>\n</html>\n```\n\n_app/includes/container.html_:\n```html\n<div id=\"container\">{{title}}</div>\n```\n\nThis bake task will create _app/index.html_:\n```html\n<html>\n\t<body>\n\t\t<div id=\"container\">Hello World</div>\n\t</body>\n</html>\n```\n\n#### Inline attributes\n\nIn addition to the file the bake anchor tag also allows for inline attributs which will override the content from the JSON file.\n_Note: Please note that the parsing of inline attributes requires double quotes in the definition as shown in the example_\n\nSame scenario as above.\n\n_app/base.html_:\n```html\n<html>\n\t<body>\n\t\t<!--(bake includes/container.html title=\"Salut Monde\" name=\"Mathias\")-->\n\t</body>\n</html>\n```\n\n_app/includes/container.html_:\n```html\n<div id=\"container\">{{title}}</div>\n<span>{{name}}</span>\n```\n\nThis bake task will create _app/index.html_:\n```html\n<html>\n\t<body>\n\t\t<div id=\"container\">Salut monde</div>\n\t\t<span>Mathias</span>\n\t</body>\n</html>\n```\n\n\n#### IF Statement\n\nThe __bake__ task also allows a simple `if` conditional. Inline attributes named `_if` are treated as such. If the value that `_if` holds can't be found in the content.json or if found equals to the value `false` the include will be ignored. The `_if` can also be used inverted to create a `_else` effect in a way. A definition as `_if=\"!name\"` would mean the template will be rendered when `name` cannot be found or is `false`.\n\n_app/base.html_:\n```html\n<html>\n\t<body>\n\t\t<!--(bake includes/container.html _if=\"name\")-->\n\t</body>\n</html>\n```\n\n_app/content.json_:\n\n```json\n{\n\t\"foo\": \"bar\"\n}\n```\n\nThis bake task will create _app/index.html_:\n```html\n<html>\n\t<body>\n\n\t</body>\n</html>\n```\n\nAdditionally the the `_if` statement also works with inlining the bake content.\n\n```html\n<html>\n\t<body>\n\t\t<!--(bake-start _if=\"name\")-->\n\t\t<h1>{{name}}</h1>\n\t\t<!--(bake-end)-->\n\t</body>\n</html>\n```\n\n#### Foreach Loop\n\nAnother special inline attribute is the `_foreach` attribute. This keyword expects a specific syntax and can be used both inline as well as pulling\ncontent from the json. This allows to loop over a set of values and using that value in the partial.\nIt accepts an inline syntax: `_foreach=\"name:[mike, drew, steve]\"` as well as a reference to an array in the json: `_foreach=\"name:authors.names\"`. The values from the array can then be used with the key `name`. This key can be chosen arbitrarily.\n\n_app/base.html_:\n```html\n<html>\n\t<body>\n\t\t<ul class=\"first\">\n\t\t\t<!--(bake includes/li.html _foreach=\"name:[mike, drew, steve]\")-->\n\t\t</ul>\n\n\t\t<ul class=\"second\">\n\t\t\t<!--(bake includes/li.html _foreach=\"name:authors.names\")-->\n\t\t</ul>\n\t</body>\n</html>\n```\n\n_app/includes/li.html_:\n```html\n<li>{{name}}</li>\n```\n\n_app/content.json_:\n```json\n{\n\t\"authors\": {\n\t\t\"names\": [ \"jenna\", \"carla\", \"susy\" ]\n\t}\n}\n```\n\nThis bake task will create _app/index.html_:\n```html\n<html>\n\t<body>\n\t\t<ul class=\"first\">\n\t\t\t<li>mike</li>\n\t\t\t<li>drew</li>\n\t\t\t<li>steve</li>\n\t\t</ul>\n\n\t\t<ul class=\"second\">\n\t\t\t<li>jenna</li>\n\t\t\t<li>carla</li>\n\t\t\t<li>susy</li>\n\t\t</ul>\n\t</body>\n</html>\n```\n\nJust like the `_if` statement the `_foreach` also works with inlined content:\n\n```html\n<html>\n\t<body>\n\t\t<ul>\n\t\t<!--(bake-start _foreach=\"name:[robert, susan, carl]\")-->\n\t\t\t<li>{{name}}</li>\n\t\t<!--(bake-end)-->\n\t\t</ul>\n\t</body>\n</html>\n```\n\n\n#### Inline Section statement\n\nThe `_section` attribute, when used inline, allows to use a specific subcontent of the values.\n\n_app/base.html_:\n```html\n<html>\n\t<body>\n\t\t<!--(bake includes/file.html _section=\"home\")-->\n\t\t<!--(bake includes/file.html _section=\"about\")-->\n\t</body>\n</html>\n```\n\n_app/includes/file.html_:\n```html\n<h1>{{title}}</h1>\n<p>{{content}}</p>\n```\n\nWith the following content file\n```json\n{\n\t\"home\": {\n\t\t\"title\": \"Home\",\n\t\t\"content\": \"This is home\"\n\t},\n\t\"about\": {\n\t\t\"title\": \"About\",\n\t\t\"content\": \"This is about\"\n\t}\n}\n```\n\nThis will render the following:\n```html\n<html>\n\t<body>\n\t\t<h1>Home</h1>\n\t\t<p>This is home</p>\n\t\t<h1>About</h1>\n\t\t<p>This is about</p>\n\t</body>\n</html>\n```\n\n#### Costum process\nThis example shows the use of a costum process funtion.\n\n```js\n\nvar processFunction( source, content ) {\n\treturn source + \"<br>\";\n}\n\ngrunt.initConfig( {\n\tbake: {\n\t\tbuild: {\n\t\t\toptions: {\n\t\t\t\tcontent: \"app/content.json\",\n\t\t\t\tsection: \"en\",\n\t\t\t\tprocess: processFunction\n\t\t\t}\n\n\t\t\tfiles: {\n\t\t\t\t\"app/index.html\": \"app/base.html\"\n\t\t\t}\n\t\t}\n\t}\n} )\n```\n\n### Continues development\n\nFor ease of development just add the `bake` task to your watch list. The static page will be baked everytime you change the template.\n\n```javascript\nwatch: {\n\tbake: {\n\t\tfiles: [ \"app/includes/**\" ],\n\t\ttasks: \"bake:build\"\n\t}\n}\n```",
  "readmeFilename": "README.md",
  "_id": "grunt-bake@0.3.10",
  "_from": "grunt-bake@~0.3.10"
}
